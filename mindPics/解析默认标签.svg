<svg xmlns:ed="http://www.edrawsoft.cn/xml/2017/SVGExtensions/" ed:hSpacing="30" xmlns:ev="http://www.w3.org/2001/xml-events" width="1215" height="915" id="page100" xmlns:xlink="http://www.w3.org/1999/xlink" ed:name="Page-1" viewBox="0 0 1215 915" xmlns="http://www.w3.org/2000/svg" ed:vSpacing="30"><style type="text/css"><![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st2 {fill:#303030;font-family:微软雅黑;font-size:11pt}
.st1 {fill:#303030;font-family:微软雅黑;font-size:14pt}
.st3 {fill:#303030;font-family:微软雅黑;font-size:9pt}
]]></style><defs><linearGradient x2="0%" id="lg1" x1="0%" y2="100%" y1="0%"><stop stop-color="#ffffff" offset="0"/><stop stop-color="#f0f5f0" offset="0.25"/><stop stop-color="#e1ebe1" offset="0.75"/><stop stop-color="#c8d7c8" offset="1"/></linearGradient></defs><rect width="1215" height="915" x="0" fill="#ffffff" y="0"/><path transform="matrix(1,0,0,1,237,113)" stroke="#96cdde" ed:parentid="101" stroke-linejoin="round" id="103" stroke-linecap="round" d="M0,-37.1L0,37.1" fill="none" ed:tosuperid="102"/><path transform="matrix(1,0,0,1,237,247)" stroke="#96cdde" ed:parentid="101" stroke-linejoin="round" id="105" stroke-linecap="round" d="M0,-60.9L0,60.9" fill="none" ed:tosuperid="104"/><path transform="matrix(1,0,0,1,237,475)" stroke="#96cdde" ed:parentid="101" stroke-linejoin="round" id="107" stroke-linecap="round" d="M0,-131.3L0,131.3" fill="none" ed:tosuperid="106"/><path transform="matrix(1,0,0,1,237,750)" stroke="#96cdde" ed:parentid="101" stroke-linejoin="round" id="109" stroke-linecap="round" d="M0,-107.5L0,107.5" fill="none" ed:tosuperid="108"/><path transform="matrix(1,0,0,1,344,134)" stroke="#96cdde" ed:parentid="102" stroke-linejoin="round" id="111" stroke-linecap="round" d="M-13.5,34.4L3.7,34.4L3.7,-28.4C3.7,-31.7,6.4,-34.4,9.7,-34.4L13.5,-34.4" fill="none" ed:tosuperid="110"/><path transform="matrix(1,0,0,1,344,148)" stroke="#96cdde" ed:parentid="102" stroke-linejoin="round" id="113" stroke-linecap="round" d="M3.7,20.6L3.7,-14.6C3.7,-17.9,6.4,-20.6,9.7,-20.6L13.5,-20.6" fill="none" ed:tosuperid="112"/><path transform="matrix(1,0,0,1,344,161)" stroke="#96cdde" ed:parentid="102" stroke-linejoin="round" id="115" stroke-linecap="round" d="M3.7,6.9L3.7,-0.9C3.7,-4.2,6.4,-6.9,9.7,-6.9L13.5,-6.9" fill="none" ed:tosuperid="114"/><path transform="matrix(1,0,0,1,344,175)" stroke="#96cdde" ed:parentid="102" stroke-linejoin="round" id="118" stroke-linecap="round" d="M3.7,-6.9L3.7,0.9C3.7,4.2,6.4,6.9,9.7,6.9L13.5,6.9" fill="none" ed:tosuperid="117"/><path transform="matrix(1,0,0,1,344,189)" stroke="#96cdde" ed:parentid="102" stroke-linejoin="round" id="120" stroke-linecap="round" d="M3.7,-20.6L3.7,14.6C3.7,17.9,6.4,20.6,9.7,20.6L13.5,20.6" fill="none" ed:tosuperid="119"/><path transform="matrix(1,0,0,1,344,203)" stroke="#96cdde" ed:parentid="102" stroke-linejoin="round" id="122" stroke-linecap="round" d="M3.7,-34.4L3.7,28.4C3.7,31.7,6.4,34.4,9.7,34.4L13.5,34.4" fill="none" ed:tosuperid="121"/><path transform="matrix(1,0,0,1,335,299)" stroke="#96cdde" ed:parentid="104" stroke-linejoin="round" id="126" stroke-linecap="round" d="M-13.5,27.5L3.7,27.5L3.7,-21.5C3.7,-24.8,6.4,-27.5,9.7,-27.5L13.5,-27.5" fill="none" ed:tosuperid="125"/><path transform="matrix(1,0,0,1,335,312)" stroke="#96cdde" ed:parentid="104" stroke-linejoin="round" id="128" stroke-linecap="round" d="M3.7,13.8L3.7,-7.8C3.7,-11.1,6.4,-13.8,9.7,-13.8L13.5,-13.8" fill="none" ed:tosuperid="127"/><path transform="matrix(1,0,0,1,335,326)" stroke="#96cdde" ed:parentid="104" stroke-linejoin="round" id="130" stroke-linecap="round" d="M3.7,0C3.7,0,6.4,0,9.7,0L13.5,0" fill="none" ed:tosuperid="129"/><path transform="matrix(1,0,0,1,335,340)" stroke="#96cdde" ed:parentid="104" stroke-linejoin="round" id="132" stroke-linecap="round" d="M3.7,-13.8L3.7,7.8C3.7,11.1,6.4,13.8,9.7,13.8L13.5,13.8" fill="none" ed:tosuperid="131"/><path transform="matrix(1,0,0,1,335,354)" stroke="#96cdde" ed:parentid="104" stroke-linejoin="round" id="134" stroke-linecap="round" d="M3.7,-27.5L3.7,21.5C3.7,24.8,6.4,27.5,9.7,27.5L13.5,27.5" fill="none" ed:tosuperid="133"/><path transform="matrix(1,0,0,1,337,520)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="136" stroke-linecap="round" d="M-13.5,104.8L3.7,104.8L3.7,-98.8C3.7,-102.1,6.4,-104.8,9.7,-104.8L13.5,-104.8" fill="none" ed:tosuperid="135"/><path transform="matrix(1,0,0,1,363,876)" stroke="#96cdde" ed:parentid="108" stroke-linejoin="round" id="138" stroke-linecap="round" d="M-13.5,0L3.7,0C3.7,0,6.4,0,9.7,0L13.5,0" fill="none" ed:tosuperid="137"/><path transform="matrix(1,0,0,1,337,560)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="140" stroke-linecap="round" d="M3.7,64.5L3.7,-58.5C3.7,-61.8,6.4,-64.5,9.7,-64.5L13.5,-64.5" fill="none" ed:tosuperid="139"/><path transform="matrix(1,0,0,1,337,538)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="144" stroke-linecap="round" d="M3.7,86.8L3.7,-80.8C3.7,-84.1,6.4,-86.8,9.7,-86.8L13.5,-86.8" fill="none" ed:tosuperid="143"/><path transform="matrix(1,0,0,1,529,587)" stroke="#96cdde" ed:parentid="157" stroke-linejoin="round" id="146" stroke-linecap="round" d="M3.7,27.5L3.7,-21.5C3.7,-24.8,6.4,-27.5,9.7,-27.5L13.5,-27.5" fill="none" ed:tosuperid="145"/><path transform="matrix(1,0,0,1,529,600)" stroke="#96cdde" ed:parentid="157" stroke-linejoin="round" id="148" stroke-linecap="round" d="M3.7,13.8L3.7,-7.8C3.7,-11.1,6.4,-13.8,9.7,-13.8L13.5,-13.8" fill="none" ed:tosuperid="147"/><path transform="matrix(1,0,0,1,529,614)" stroke="#96cdde" ed:parentid="157" stroke-linejoin="round" id="150" stroke-linecap="round" d="M3.7,0C3.7,0,6.4,0,9.7,0L13.5,0" fill="none" ed:tosuperid="149"/><path transform="matrix(1,0,0,1,529,628)" stroke="#96cdde" ed:parentid="157" stroke-linejoin="round" id="152" stroke-linecap="round" d="M3.7,-13.8L3.7,7.8C3.7,11.1,6.4,13.8,9.7,13.8L13.5,13.8" fill="none" ed:tosuperid="151"/><path transform="matrix(1,0,0,1,529,642)" stroke="#96cdde" ed:parentid="157" stroke-linejoin="round" id="154" stroke-linecap="round" d="M3.7,-27.5L3.7,21.5C3.7,24.8,6.4,27.5,9.7,27.5L13.5,27.5" fill="none" ed:tosuperid="153"/><path transform="matrix(1,0,0,1,529,655)" stroke="#96cdde" ed:parentid="157" stroke-linejoin="round" id="156" stroke-linecap="round" d="M3.7,-41.3L3.7,35.3C3.7,38.6,6.4,41.3,9.7,41.3L13.5,41.3" fill="none" ed:tosuperid="155"/><path transform="matrix(1,0,0,1,337,619)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="158" stroke-linecap="round" d="M3.7,5.3L3.7,0.8C3.7,-2.6,6.4,-5.3,9.7,-5.3L13.5,-5.3" fill="none" ed:tosuperid="157"/><path transform="matrix(1,0,0,1,529,573)" stroke="#96cdde" ed:parentid="157" stroke-linejoin="round" id="160" stroke-linecap="round" d="M-13.5,41.3L3.7,41.3L3.7,-35.3C3.7,-38.6,6.4,-41.3,9.7,-41.3L13.5,-41.3" fill="none" ed:tosuperid="159"/><path transform="matrix(1,0,0,1,337,674)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="163" stroke-linecap="round" d="M3.7,-49.8L3.7,43.8C3.7,47.1,6.4,49.8,9.7,49.8L13.5,49.8" fill="none" ed:tosuperid="162"/><path transform="matrix(1,0,0,1,337,688)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="165" stroke-linecap="round" d="M3.7,-63.5L3.7,57.5C3.7,60.8,6.4,63.5,9.7,63.5L13.5,63.5" fill="none" ed:tosuperid="164"/><path transform="matrix(1,0,0,1,337,702)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="167" stroke-linecap="round" d="M3.7,-77.3L3.7,71.3C3.7,74.6,6.4,77.3,9.7,77.3L13.5,77.3" fill="none" ed:tosuperid="166"/><path transform="matrix(1,0,0,1,337,716)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="169" stroke-linecap="round" d="M3.7,-91L3.7,85C3.7,88.3,6.4,91,9.7,91L13.5,91" fill="none" ed:tosuperid="168"/><path transform="matrix(1,0,0,1,337,729)" stroke="#96cdde" ed:parentid="106" stroke-linejoin="round" id="172" stroke-linecap="round" d="M3.7,-104.8L3.7,98.8C3.7,102.1,6.4,104.8,9.7,104.8L13.5,104.8" fill="none" ed:tosuperid="171"/><g ed:height="55" transform="matrix(1,0,0,1,21,21)" ed:topictype="mainidea" id="101" ed:layout="map" ed:width="432"><path stroke="#96cdde" stroke-linejoin="round" fill="#96cdde" d="M0,0L432,0L432,55L0,55L0,0z"/><text class="st1"><tspan style="white-space:pre" x="20" y="33.5">BeanDefinitionParserDelegate解析默认标签</tspan></text></g><g ed:height="36" transform="matrix(1,0,0,1,144,150)" ed:parentid="101" id="102" ed:layout="rightmap" ed:width="187"><path stroke="#96cdde" stroke-linejoin="round" fill="#eff6f9" d="M0,0L187,0L187,36L0,36L0,0z"/><text class="st2"><tspan style="white-space:pre" x="19" y="22.4">1.解析&lt;import>标签</tspan></text></g><g ed:height="36" transform="matrix(1,0,0,1,153,308)" ed:parentid="101" id="104" ed:layout="rightmap" ed:width="168"><path stroke="#96cdde" stroke-linejoin="round" fill="#eff6f9" d="M0,0L168,0L168,36L0,36L0,0z"/><text class="st2"><tspan style="white-space:pre" x="19" y="22.4">2.解析&lt;alias>标签</tspan></text></g><g ed:height="36" transform="matrix(1,0,0,1,151,607)" ed:parentid="101" id="106" ed:layout="rightmap" ed:width="173"><path stroke="#96cdde" stroke-linejoin="round" fill="#eff6f9" d="M0,0L173,0L173,36L0,36L0,0z"/><text class="st2"><tspan style="white-space:pre" x="19" y="22.4">3.解析&lt;bean>标签</tspan></text></g><g ed:height="36" transform="matrix(1,0,0,1,125,858)" ed:parentid="101" id="108" ed:layout="rightmap" ed:width="225"><path stroke="#96cdde" stroke-linejoin="round" fill="#eff6f9" d="M0,0L225,0L225,36L0,36L0,0z"/><text class="st2"><tspan style="white-space:pre" x="19" y="22.4">4.解析嵌套的&lt;beans>标签</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,358,89)" ed:parentid="102" id="110" ed:layout="rightmap" ed:width="141"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">1.1.获取resource属性</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,358,117)" ed:parentid="102" id="112" ed:layout="rightmap" ed:width="284"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">1.2.解析路径中的系统属性,格式如“${user.dir}”</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,358,144)" ed:parentid="102" id="114" ed:layout="rightmap" ed:width="273"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">1.3.判定resource属性是绝对路径还是相对路径</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,358,172)" ed:parentid="102" id="117" ed:layout="rightmap" ed:width="391"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">1.4.如果是绝对路径则递归调用 bean 的解析过程，进行另一次的解析</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,358,199)" ed:parentid="102" id="119" ed:layout="rightmap" ed:width="405"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">1.5.如果是相对路径则根据当前resource路径计算出绝对路径并进行解析</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,358,227)" ed:parentid="102" id="121" ed:layout="rightmap" ed:width="433"><path fill="#30c9f7" d="M0,0L433,0L433,21L0,21L0,0z"/><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">1.6.通知ReaderEventListener监听器，解析资源注册beanDefinition完成</tspan></text><g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'宋体';&quot;>重写ReaderEventListener可以自定义监听器行为；&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'宋体';&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'宋体'; color:#a626a4;&quot;>public&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#a626a4;&quot;>interface&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#c18401;&quot;>ReaderEventListener&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#a626a4;&quot;>extends&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#c18401;&quot;>EventListener&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>{&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;>  &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>/**&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * Notification that the given defaults has been registered.&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a626a4;&quot;>@param&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;> defaultsDefinition a descriptor for the defaults&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a626a4;&quot;>@see&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;> org.springframework.beans.factory.xml.DocumentDefaultsDefinition&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     */&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#a626a4;&quot;>void&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#4078f2;&quot;>defaultsRegistered&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#000000;&quot;>(DefaultsDefinition defaultsDefinition)&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>;&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;>  &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>/**&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * Notification that the given component has been registered.&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a626a4;&quot;>@param&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;> componentDefinition a descriptor for the new component&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a626a4;&quot;>@see&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;> BeanComponentDefinition&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     */&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#a626a4;&quot;>void&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#4078f2;&quot;>componentRegistered&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#000000;&quot;>(ComponentDefinition componentDefinition)&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>;&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;>  &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>/**&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * Notification that the given alias has been registered.&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a626a4;&quot;>@param&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;> aliasDefinition a descriptor for the new alias&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     */&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#a626a4;&quot;>void&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#4078f2;&quot;>aliasRegistered&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#000000;&quot;>(AliasDefinition aliasDefinition)&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>;&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;>  &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>/**&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * Notification that the given import has been processed.&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     * &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a626a4;&quot;>@param&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;> importDefinition a descriptor for the import&lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#000000;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; font-style:italic; color:#a0a1a7;&quot;>     */&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>    &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#a626a4;&quot;>void&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;> &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#4078f2;&quot;>importProcessed&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#000000;&quot;>(ImportDefinition importDefinition)&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>;&lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42;&quot;>  &lt;/span>&lt;span style=&quot; font-family:'宋体'; color:#383a42; background-color:#fafafa;&quot;>}&lt;/span>&lt;/p>&lt;/body>"><use transform="translate(407,4)" xlink:href="#note"/></g></g><symbol id="note"><image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyOTkwNTNiYS1iMTE3LWZiNDQtOTgwYy1mYjkwYzFiNzJlMWUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkYyRkU5OTU5Nzg0MTFFNzlFMjZFQTA0OUExMTI5NjAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkYyRkU5OTQ5Nzg0MTFFNzlFMjZFQTA0OUExMTI5NjAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MmY3M2I2ZDQtOWU4NC04ZDQ4LTk5NzItZDE3ODAwZjMyZDYzIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzQ3Yzk0OWQtMGQ1Ny0xMWU3LTkzMmUtYzliNjJlYTc1ZTM1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+K193vQAAAZpJREFUeNqkU0svA1EYPXe01UxV0npUSZTUBgtCk6Z2NmJj7R9YsKrHyiMRfoAtWxt/gWAhIkGaSEQqwdBWQrRlKp161PT6xijaejU9yZ17c+ee893z3e9jnHOUAoP2mZpbKkpltP+SEWDzzOoCGuanh/5FTqwunyvbFpdynwzZPIBQTOSHyA0eD9Xmpwhfp9H2YSGLncDRj2RvQxjcaEO61o7U8UlLmr0s0HZfjoCvqy2PxgD+AkTXwO73IKZOkRmYAI9eR+TtjfGCG2iJyYGqAPFNQN4FUhJgqoYYWzyz2O/61Iwi/WnBVx8ESwbJfJjINXQbFTMrne6xXkmy+g0oEOjpbn+b048JsNgqWCJAkS8A8g7BCN7op79rlAsTWLlQKKCzozDKW0Ay8BlZE2gaJpJTP6MVX0YvHSHfwvPVAXneJ3IIKHfQLiXRNUJr57evkyPgaW2EQUlBfagDyuw0RKBlEjDX/V7KWURjcZjlW9jsbvCKdjCHl05U/t0LWZitVRA7BiGIYnHN9N5Q/6/pL/XCSm3nVwEGAAA2iwis0BevAAAAAElFTkSuQmCC"/></symbol><g ed:height="21" transform="matrix(1,0,0,1,348,261)" ed:parentid="104" id="125" ed:layout="rightmap" ed:width="245"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">2.1.获取&lt;alias/>标签的name和alias属性</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,348,288)" ed:parentid="104" id="127" ed:layout="rightmap" ed:width="236"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">2.2.验证两个属性是否有效——是否为空</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,348,316)" ed:parentid="104" id="129" ed:layout="rightmap" ed:width="286"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">2.3.注册别名，存放在aliasMap&lt;alias, name>中</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,348,343)" ed:parentid="104" id="131" ed:layout="rightmap" ed:width="378"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">2.4.注册别名时会检测是否发生别名循环依赖，循环依赖会抛出异常</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,348,371)" ed:parentid="104" id="133" ed:layout="rightmap" ed:width="364"><path fill="#30c9f7" d="M0,0L364,0L364,21L0,21L0,0z"/><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">2.5.别名注册完成后通知ReaderEventListener监听器做相应处理</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,351,405)" ed:parentid="106" id="135" ed:layout="rightmap" ed:width="417"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.1.获取&lt;bean/>标签的id和name属性值，按照规则设置bean的id和别名</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,377,865)" ed:parentid="108" id="137" ed:layout="rightmap" ed:width="348"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">4.1.递归调用doRegisterBeanDefinitions()方法进行解析注册</tspan></text></g><g ed:height="38" transform="matrix(1,0,0,1,351,477)" ed:parentid="106" id="139" ed:layout="rightmap" ed:width="584"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.3.继续解析标签的剩余各种属性，包括scope、abstract、lazy-init、autowire、depends-on</tspan><tspan style="white-space:pre" x="10" y="31.4">autowire-candidate、primary、init-method、destory-method、factory-method、factory-bean</tspan></text></g><g ed:height="38" transform="matrix(1,0,0,1,351,432)" ed:parentid="106" id="143" ed:layout="rightmap" ed:width="476"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.2.进一步解析其他所有属性，包括class属性、parent属性，</tspan><tspan style="white-space:pre" x="10" y="31.4">创建GenericBeanDefinition对象用于封装信息，创建后便保存class和parent属性</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,543,549)" ed:parentid="157" id="145" ed:layout="rightmap" ed:width="484"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.2.解析子标签&lt;meta/>，将每个meta标签数据封装为BeanMetadataAttribute对象</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,543,576)" ed:parentid="157" id="147" ed:layout="rightmap" ed:width="474"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.3.解析子标签&lt;lookup-method/>，将标签信息封装为LookupOverride对象</tspan></text><g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'宋体'; text-decoration: underline; color:#0000ff;&quot;>https://blog.csdn.net/qq_22912803/article/details/52503914&lt;/span>&lt;/p>&lt;/body>"><use transform="translate(448,4)" xlink:href="#note"/></g></g><g ed:height="21" transform="matrix(1,0,0,1,543,604)" ed:parentid="157" id="149" ed:layout="rightmap" ed:width="465"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.4.解析子标签&lt;replaced-method/>，将标签信息封装为ReplaceOverride对象</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,543,631)" ed:parentid="157" id="151" ed:layout="rightmap" ed:width="629"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.5.解析所有的构造函数标签&lt;constructor-arg/>，用ConstructorArgumentValues.ValueHolder对象封装</tspan></text><g ed:note="&lt;body style=&quot; font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;&quot;>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'宋体';&quot;>对构造函数中属性元素的解析，经历了以下过程：&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'宋体';&quot;>&lt;br />&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'宋体';&quot;>1. 略过 description 或者 meta；&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'宋体';&quot;>2. 提取解析 ref 和 value 属性；&lt;/span>&lt;/p>&lt;p style=&quot; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; &quot;>&lt;span style=&quot; font-family:'宋体';&quot;>3. 用 RuntimeBeanReference 对象包装 ref 属性值，或者用 TypedStringValue 对象包装 value 属性值或者解析子元素。&lt;/span>&lt;/p>&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;  font-family:'宋体';&quot;>&lt;br />&lt;/p>&lt;/body>"><use transform="translate(603,4)" xlink:href="#note"/></g></g><g ed:height="21" transform="matrix(1,0,0,1,543,659)" ed:parentid="157" id="153" ed:layout="rightmap" ed:width="364"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.6.解析所有&lt;property/>子标签，用PropertyValue对象封装</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,543,686)" ed:parentid="157" id="155" ed:layout="rightmap" ed:width="413"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.7.解析子标签&lt;qualifier/>，用AutowireCandidateQualifier对象封装</tspan></text></g><g ed:height="38" transform="matrix(1,0,0,1,351,595)" ed:parentid="106" id="157" ed:layout="rightmap" ed:width="165"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.解析&lt;bean>&lt;/bean></tspan><tspan style="white-space:pre" x="10" y="31.4">标签包裹的子标签</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,543,521)" ed:parentid="157" id="159" ed:layout="rightmap" ed:width="433"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.4.1.解析子标签&lt;description/>，设置给BeanDefinition的description属性</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,351,714)" ed:parentid="106" id="162" ed:layout="rightmap" ed:width="487"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.5.检查bean的beanName和alias是否设置，没有设置Spring会采用默认规则进行设置</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,351,741)" ed:parentid="106" id="164" ed:layout="rightmap" ed:width="468"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.6.将GenericBeanDefinition、beanName、alias封装至BeanDefinitionHolder中</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,351,769)" ed:parentid="106" id="166" ed:layout="rightmap" ed:width="329"><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.7.解析&lt;bean>标签中的自定义属性，以及自定义子元素</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,351,796)" ed:parentid="106" id="168" ed:layout="rightmap" ed:width="843"><path fill="#ec6901" d="M0,0L843,0L843,21L0,21L0,0z"/><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.8.将beanDefinitionHolder中的beanDefinition注册进容器中，实质是注册到XmlBeanFactory的beanDefinitionMap&lt;beanName, beanDefinition>中</tspan></text></g><g ed:height="21" transform="matrix(1,0,0,1,351,824)" ed:parentid="106" id="171" ed:layout="rightmap" ed:width="412"><path fill="#30c9f7" d="M0,0L412,0L412,21L0,21L0,0z"/><text class="st3"><tspan style="white-space:pre" x="10" y="14.4">3.9.beanDefinition注册完后通知ReaderEventListener监听器做相应处理</tspan></text></g><symbol id="plus"><path fill="url(#lg1)" d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6z"/><path stroke-width="0.7" stroke="#46a000" fill="none" d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6zM3,6L9,6M6,3L6,9"/></symbol><symbol id="minus"><path fill="url(#lg1)" d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6z"/><path stroke-width="0.7" stroke="#46a000" fill="none" d="M11,6C11,8.8,8.8,11,6,11C3.2,11,1,8.8,1,6C1,3.2,3.2,1,6,1C8.8,1,11,3.2,11,6zM3,6L9,6"/></symbol><g transform="translate(231,77)" ed:togtopicid="101"><use xlink:href="#minus"/></g><g transform="translate(332,162)" ed:togtopicid="102"><use xlink:href="#minus"/></g><g transform="translate(322,320)" ed:togtopicid="104"><use xlink:href="#minus"/></g><g transform="translate(325,619)" ed:togtopicid="106"><use xlink:href="#minus"/></g><g transform="translate(351,870)" ed:togtopicid="108"><use xlink:href="#minus"/></g><g transform="translate(517,608)" ed:togtopicid="157"><use xlink:href="#minus"/></g></svg>